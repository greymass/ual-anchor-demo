(window["webpackJsonpual-anchor-demo"]=window["webpackJsonpual-anchor-demo"]||[]).push([[0],{123:function(e,t,r){"use strict";var n=r(265),i=r(311),o=Object.assign({},n,i);e.exports=o},124:function(e,t,r){"use strict";(function(t){var n=r(125),i=r(266),o=r(268),a=r(9),s=r(48),c=r(67),u=r(32),f=i.Long;function l(e,r,n,f,l){if(!(e=c(e)))throw new TypeError("private_key is required");if(!(r=s(r)))throw new TypeError("public_key is required");if(!(n=p(n)))throw new TypeError("nonce is required");if(!t.isBuffer(f)){if("string"!==typeof f)throw new TypeError("message should be buffer or string");f=new t(f,"binary")}if(l&&"number"!==typeof l)throw new TypeError("checksum should be a number");var h=e.getSharedSecret(r),d=new i(i.DEFAULT_CAPACITY,i.LITTLE_ENDIAN);d.writeUint64(n),d.append(h.toString("binary"),"binary"),d=new t(d.copy(0,d.offset).toBinary(),"binary");var v=u.sha512(d),y=v.slice(32,48),m=v.slice(0,32),b=u.sha256(v);b=b.slice(0,4);var w=i.fromBinary(b.toString("binary"),i.DEFAULT_CAPACITY,i.LITTLE_ENDIAN);if(b=w.readUint32(),l){if(b!==l)throw new Error("Invalid key");f=function(e,r,n){a(e,"Missing cipher text"),e=g(e);var i=o.createDecipheriv("aes-256-cbc",r,n);return e=t.concat([i.update(e),i.final()])}(f,m,y)}else f=function(e,r,n){a(e,"Missing plain text"),e=g(e);var i=o.createCipheriv("aes-256-cbc",r,n);return e=t.concat([i.update(e),i.final()])}(f,m,y);return{nonce:n,message:f,checksum:b}}function h(){if(null===d){var e=new Uint8Array(n(2));d=parseInt(e[0]<<8|e[1],10)}var t=f.fromNumber(Date.now()),r=++d%65535;return(t=t.shiftLeft(16).or(f.fromNumber(r))).toString()}e.exports={encrypt:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:h();return l(e,t,n,r)},decrypt:function(e,t,r,n,i){return l(e,t,r,n,i).message}};var d=null,p=function(e){return e?f.isLong(e)?e:f.fromString(e):e},g=function(e){return e?t.isBuffer(e)?e:new t(e,"binary"):e}}).call(this,r(1).Buffer)},149:function(e,t,r){"use strict";(function(t){var n=r(65),i=n(r(88)),o=n(r(66)),a=r(309),s=r(32),c=r(89).getCurveByName("secp256k1"),u=r(9),f=r(25),l=r(49),h=r(48),d=r(67);function p(e,r,n){function i(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";return"string"===typeof e&&(e=t.from(e,n)),u(t.isBuffer(e),"data is a required String or Buffer"),o(e=s.sha256(e),r)}function o(n,i){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";if("string"===typeof n&&(n=t.from(n,o)),32!==n.length||!t.isBuffer(n))throw new Error("dataSha256: 32 bytes required");var s=h(i);return u(s,"pubkey required"),a.verify(c,n,{r:e,s:r},s.Q)}function d(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf8";return"string"===typeof e&&(e=t.from(e,r)),console.log(e),u(t.isBuffer(e),"data is a required String or Buffer"),p(e=s.sha256(e))}function p(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";if("string"===typeof i&&(i=t.from(i,o)),32!==i.length||!t.isBuffer(i))throw new Error("dataSha256: 32 byte String or buffer requred");var s=f.fromBuffer(i),u=n;u-=27,u&=3;var l=a.recoverPubKey(c,s,{r:e,s:r,i:n},u);return h.fromPoint(l)}function g(){var i;return(i=new t(65)).writeUInt8(n,0),e.toBuffer(32).copy(i,1),r.toBuffer(32).copy(i,33),i}var v;return u.equal(null!=e,!0,"Missing parameter"),u.equal(null!=r,!0,"Missing parameter"),u.equal(null!=n,!0,"Missing parameter"),{r:e,s:r,i:n,toBuffer:g,verify:i,verifyHash:o,verifyHex:function(e,r){return console.log('Deprecated: use verify(data, pubkey, "hex")'),i(t.from(e,"hex"),r)},recover:d,recoverHash:p,toHex:function(){return g().toString("hex")},toString:function(){return v||(v="SIG_K1_"+l.checkEncode(g(),"K1"))},verifyBuffer:function(){return console.log("Deprecated: use signature.verify instead (same arguments)"),i.apply(void 0,arguments)},recoverPublicKey:function(){return console.log("Deprecated: use signature.recover instead (same arguments)"),d.apply(void 0,arguments)},recoverPublicKeyFromBuffer:function(){return console.log("Deprecated: use signature.recoverHash instead (same arguments)"),p.apply(void 0,arguments)}}}e.exports=p,p.sign=function(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";return"string"===typeof e&&(e=t.from(e,n)),u(t.isBuffer(e),"data is a required String or Buffer"),e=s.sha256(e),p.signHash(e,r)},p.signHash=function(e,r){var n,i,o,s,l,h,g,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";if("string"===typeof e&&(e=t.from(e,v)),32!==e.length||!t.isBuffer(e))throw new Error("dataSha256: 32 byte buffer requred");for(r=d(r),u(r,"privateKey required"),s=null,g=0,i=f.fromBuffer(e);;){if(h=(n=(o=a.sign(c,e,r.d,g++)).toDER())[5+(l=n[3])],32===l&&32===h){s=a.calcPubKeyRecoveryParam(c,i,o,r.toPublic().Q),s+=4,s+=27;break}g%10===0&&console.log("WARN: "+g+" attempts to find canonical signature")}return p(o.r,o.s,s)},p.fromBuffer=function(e){var r;return u(t.isBuffer(e),"Buffer is required"),u.equal(e.length,65,"Invalid signature length"),r=e.readUInt8(0),u.equal(r-27,r-27&7,"Invalid signature parameter"),p(f.fromBuffer(e.slice(1,33)),f.fromBuffer(e.slice(33)),r)},p.fromHex=function(e){return p.fromBuffer(t.from(e,"hex"))},p.fromString=function(e){try{return p.fromStringOrThrow(e)}catch(t){return null}},p.fromStringOrThrow=function(e){u.equal((0,o.default)(e),"string","signature");var t=e.match(/^SIG_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);u(null!=t&&3===t.length,"Expecting signature like: SIG_K1_base58signature..");var r=(0,i.default)(t,3),n=r[1],a=r[2];return u.equal(n,"K1","K1 signature expected"),p.fromBuffer(l.checkDecode(a,n))},p.from=function(e){var r=e?e.r&&e.s&&e.i?e:"string"===typeof e&&130===e.length?p.fromHex(e):"string"===typeof e&&130!==e.length?p.fromStringOrThrow(e):t.isBuffer(e)?p.fromBuffer(e):null:e;if(!r)throw new TypeError("signature should be a hex string or buffer");return r}}).call(this,r(1).Buffer)},150:function(e,t,r){"use strict";(function(t){function r(e){var t=e.toString().match(/function (.*?)\(/);return t?t[1]:null}e.exports=function(e,n){switch(e){case"Array":if(Array.isArray(n))return;break;case"Boolean":if("boolean"===typeof n)return;break;case"Buffer":if(t.isBuffer(n))return;break;case"Number":if("number"===typeof n)return;break;case"String":if("string"===typeof n)return;break;default:if(r(n.constructor)===r(e))return}throw new TypeError("Expected "+(r(e)||e)+", got "+n)}}).call(this,r(1).Buffer)},156:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var o=r(91),a=r(157),s=function(){function e(){}return e.restore=function(e,t){switch(t.type){case"channel":return new c(e,t.data,t.metadata);case"fallback":return new u(e,t.data,t.metadata);default:throw new Error("Unable to restore, session data invalid")}},e}();t.LinkSession=s;var c=function(e){function t(t,r,n){var o=e.call(this)||this;return o.type="channel",o.timeout=12e4,o.link=t,o.auth=r.auth,o.publicKey=r.publicKey,o.channel=r.channel,o.encrypt=function(e){return a.sealMessage(e.encode(!0,!1),r.requestKey,r.channel.key)},o.metadata=i(i({},n||{}),{timeout:o.timeout,name:o.channel.name}),o.serialize=function(){return{type:"channel",data:r,metadata:o.metadata}},o}return n(t,e),t.prototype.onSuccess=function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)},t.prototype.onFailure=function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)},t.prototype.onRequest=function(e,t){var r={expiration:new Date(Date.now()+this.timeout).toISOString().slice(0,-1)};this.link.transport.onSessionRequest&&this.link.transport.onSessionRequest(this,e,t),setTimeout((function(){t(new o.SessionError("Wallet did not respond in time","E_TIMEOUT"))}),this.timeout+500),e.data.info.push({key:"link",value:a.abiEncode(r,"link_info")}),this.link.rpc.fetchBuiltin(this.channel.url,{method:"POST",headers:{"X-Buoy-Wait":(this.timeout/1e3).toFixed(0)},body:this.encrypt(e)}).then((function(e){200!==e.status&&t(new o.SessionError("Unable to push message","E_DELIVERY"))})).catch((function(e){t(new o.SessionError("Unable to reach link service ("+(e.message||String(e))+")","E_DELIVERY"))}))},t.prototype.makeSignatureProvider=function(){return this.link.makeSignatureProvider([this.publicKey],this)},t.prototype.makeAuthorityProvider=function(){return this.link.makeAuthorityProvider()},t.prototype.transact=function(e){return this.link.transact(e,this)},t}(s);t.LinkChannelSession=c;var u=function(e){function t(t,r,n){var i=e.call(this)||this;return i.type="fallback",i.link=t,i.auth=r.auth,i.publicKey=r.publicKey,i.metadata=n||{},i.serialize=function(){return{type:i.type,data:r,metadata:i.metadata}},i}return n(t,e),t.prototype.onSuccess=function(e,t){this.link.transport.onSuccess&&this.link.transport.onSuccess(e,t)},t.prototype.onFailure=function(e,t){this.link.transport.onFailure&&this.link.transport.onFailure(e,t)},t.prototype.onRequest=function(e,t){this.link.transport.onSessionRequest?this.link.transport.onSessionRequest(this,e,t):this.link.transport.onRequest(e,t)},t.prototype.makeSignatureProvider=function(){return this.link.makeSignatureProvider([this.publicKey],this)},t.prototype.makeAuthorityProvider=function(){return this.link.makeAuthorityProvider()},t.prototype.transact=function(e){return this.link.transact(e,this)},t}(s);t.LinkFallbackSession=u},157:function(e,t,r){"use strict";var n=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(82),a=n(r(123)),s=i(r(324)),c=o.Serialize.getTypesFromAbi(o.Serialize.createInitialTypes(),s.default);function u(e,t){var r=c.get(t);if(!r)throw new Error("No such type: "+t);var n=new o.Serialize.SerialBuffer;return r.serialize(n,e),n.asUint8Array()}t.abiEncode=u,t.abiDecode=function(e,t){var r=c.get(t);if(!r)throw new Error("No such type: "+t);"string"===typeof e?e=o.Serialize.hexToUint8Array(e):e instanceof Uint8Array||(e=new Uint8Array(e));var n=new o.Serialize.SerialBuffer({array:e});return r.deserialize(n)},t.sealMessage=function(e,t,r){var n=a.Aes.encrypt(t,r,e);return u({from:a.privateToPublic(t),nonce:n.nonce.toString(),ciphertext:n.message,checksum:n.checksum},"sealed_message")}},158:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Name="Anchor"},159:function(e,t,r){"use strict";var n=r(8),i=r(4),o=r(6),a=r(14),s=r(12),c=r(15),u=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var f=r(80),l=r(325),h=r(162),d=function(e){function t(e,r){var n;i(this,t),(n=a(this,s(t).call(this))).accountName="",n.requestPermission="",n.chain=e,n.accountName=r.auth.actor,n.requestPermission=r.auth.permission,n.authorityProvider=r.makeAuthorityProvider(),n.signatureProvider=r.makeSignatureProvider();var o=n.chain.rpcEndpoints[0],c="".concat(o.protocol,"://").concat(o.host,":").concat(o.port);return n.rpc=new l.JsonRpc(c),n.api=new l.Api({authorityProvider:n.authorityProvider,rpc:n.rpc,signatureProvider:n.signatureProvider}),n}return c(t,e),o(t,[{key:"signTransaction",value:function(e,t){var r=t.broadcast,i=void 0===r||r,o=t.blocksBehind,a=void 0===o?3:o,s=t.expireSeconds,c=void 0===s?30:s;return u(this,void 0,void 0,n.mark((function t(){var r,o,s,u;return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.transact(e,{broadcast:i,blocksBehind:a,expireSeconds:c});case 3:return r=t.sent,t.abrupt("return",this.returnEosjsTransaction(i,r));case 7:throw t.prev=7,t.t0=t.catch(0),o=t.t0.message?t.t0.message:"Unable to sign transaction",s=f.UALErrorType.Signing,u=t.t0,new h.UALAnchorError(o,s,u);case 13:case"end":return t.stop()}}),t,this,[[0,7]])})))}},{key:"signArbitrary",value:function(e,t,r){return u(this,void 0,void 0,n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:throw console.log("signArbitrary",e,t),new h.UALAnchorError("Anchor does not currently support signArbitrary",f.UALErrorType.Unsupported,null);case 2:case"end":return r.stop()}}),r)})))}},{key:"verifyKeyOwnership",value:function(e){return u(this,void 0,void 0,n.mark((function t(){return n.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:throw console.log("verifyKeyOwnership",e),new h.UALAnchorError("Anchor does not currently support verifyKeyOwnership",f.UALErrorType.Unsupported,null);case 2:case"end":return t.stop()}}),t)})))}},{key:"getAccountName",value:function(){return u(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.accountName);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getChainId",value:function(){return u(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.chain.chainId);case 1:case"end":return e.stop()}}),e,this)})))}},{key:"getKeys",value:function(){return u(this,void 0,void 0,n.mark((function e(){var t,r,i,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("getKeys"),e.prev=1,e.next=4,this.signatureProvider.getAvailableKeys(this.requestPermission);case 4:return t=e.sent,e.abrupt("return",t);case 8:throw e.prev=8,e.t0=e.catch(1),r="Unable to getKeys for account ".concat(this.accountName,".\n        Please make sure your wallet is running."),i=f.UALErrorType.DataRequest,o=e.t0,new h.UALAnchorError(r,i,o);case 14:case"end":return e.stop()}}),e,this,[[1,8]])})))}},{key:"isAccountValid",value:function(){return u(this,void 0,void 0,n.mark((function e(){var t,r,i,o,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("isAccountValid"),e.prev=1,e.t0=this.rpc,!e.t0){e.next=7;break}return e.next=6,this.rpc.get_account(this.accountName);case 6:e.t0=e.sent;case 7:return t=e.t0,r=this.extractAccountKeys(t),e.next=11,this.getKeys();case 11:return i=e.sent,e.abrupt("return",r.filter((function(e){return-1!==i.indexOf(e)})).length>0);case 15:if(e.prev=15,e.t1=e.catch(1),"UALAnchorError"!==e.t1.constructor.name){e.next=19;break}throw e.t1;case 19:throw o="Account validation failed for account ".concat(this.accountName,"."),a=f.UALErrorType.Validation,s=e.t1,new h.UALAnchorError(o,a,s);case 23:case"end":return e.stop()}}),e,this,[[1,15]])})))}},{key:"extractAccountKeys",value:function(e){console.log("extractAccountKeys",e);var t=e.permissions.map((function(e){return e.required_auth.keys.map((function(e){return e.key}))})),r=[],n=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var c=a.value;r=r.concat(c)}}catch(u){i=!0,o=u}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}]),t}(f.User);t.AnchorUser=d},162:function(e,t,r){"use strict";var n=r(4),i=r(14),o=r(12),a=r(15);Object.defineProperty(t,"__esModule",{value:!0});var s=r(80),c=r(158),u=function(e){function t(e,r,a){return n(this,t),i(this,o(t).call(this,e,r,a,c.Name))}return a(t,e),t}(s.UALError);t.UALAnchorError=u},219:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(234)),n(r(159))},228:function(e,t,r){e.exports=r(553)},234:function(e,t,r){"use strict";var n=r(8),i=r(78),o=r(4),a=r(6),s=r(14),c=r(12),u=r(15),f=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=r(80),d=r(246),p=r(158),g=r(159),v=r(333),y=r(162),m=l(r(554)),b=function(e){function t(e,r){var n;if(o(this,t),(n=s(this,c(t).call(this,e))).users=[],n.anchorIsLoading=!0,n.storage=r.sessionStorage||new w,n.sessionId=e[0].chainId,n.users=[],!r||!r.appName)throw new y.UALAnchorError("Anchor requires the appName property to be set on the `options` argument.",h.UALErrorType.Initialization,null);return n.appName="".concat(r.appName,"-").concat(e[0].chainId),n}return u(t,e),a(t,[{key:"init",value:function(){return f(this,void 0,void 0,n.mark((function e(){var t,r,o,a,s;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.anchorIsLoading=!0,t=i(this.chains,1),r=t[0],o=i(r.rpcEndpoints,1),a=o[0],this.link=new d.Link({chainId:r.chainId,rpc:"".concat(a.protocol,"://").concat(a.host,":").concat(a.port),service:"https://cb.anchor.link",transport:new m.default}),(s=this.storage.restore(this.link,this.sessionId))&&(this.users=[new g.AnchorUser(r,s)]),this.anchorIsLoading=!1;case 7:case"end":return e.stop()}}),e,this)})))}},{key:"reset",value:function(){this.users=[]}},{key:"isErrored",value:function(){return!1}},{key:"getOnboardingLink",value:function(){return"https://github.com/greymass/anchor/"}},{key:"getError",value:function(){return null}},{key:"isLoading",value:function(){return this.anchorIsLoading}},{key:"getStyle",value:function(){return{icon:v.AnchorLogo,text:p.Name,textColor:"white",background:"#3650A2"}}},{key:"shouldRender",value:function(){return this.isLoading()}},{key:"shouldAutoLogin",value:function(){return this.users.length>0}},{key:"shouldRequestAccountName",value:function(){return f(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!1);case 1:case"end":return e.stop()}}),e)})))}},{key:"login",value:function(){return f(this,void 0,void 0,n.mark((function e(){var t,r,o;return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.chains.length>1)){e.next=2;break}throw new y.UALAnchorError("UAL-Anchor does not yet support providing multiple chains to UAL. Please initialize the UAL provider with a single chain.",h.UALErrorType.Unsupported,null);case 2:if(e.prev=2,0!==this.users.length){e.next=11;break}return t=i(this.chains,1),r=t[0],e.next=7,this.link.login(this.appName);case 7:return o=e.sent,e.next=10,this.storage.store(o.session,this.sessionId);case 10:this.users=[new g.AnchorUser(r,o.session)];case 11:e.next=16;break;case 13:throw e.prev=13,e.t0=e.catch(2),new y.UALAnchorError(e.t0.message,h.UALErrorType.Login,e.t0);case 16:return e.abrupt("return",this.users);case 17:case"end":return e.stop()}}),e,this,[[2,13]])})))}},{key:"logout",value:function(){return f(this,void 0,void 0,n.mark((function e(){return n.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storage.remove(this.sessionId);case 2:this.reset();case 3:case"end":return e.stop()}}),e,this)})))}},{key:"requiresGetKeyConfirmation",value:function(){return!1}}]),t}(h.Authenticator);t.Anchor=b;var w=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"anchorlink";o(this,e),this.keyPrefix=t}return a(e,[{key:"sessionKey",value:function(e,t){return[this.keyPrefix,e,t].filter((function(e){return"string"===typeof e&&e.length>0})).join("-")}},{key:"store",value:function(e,t,r){return f(this,void 0,void 0,n.mark((function i(){var o,a;return n.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=this.sessionKey(t,r),a=e.serialize(),localStorage.setItem(o,JSON.stringify(a));case 3:case"end":return n.stop()}}),i,this)})))}},{key:"restore",value:function(e,t,r){var n=this.sessionKey(t,r),i=JSON.parse(localStorage.getItem(n)||"null");return i?d.LinkSession.restore(e,i):null}},{key:"remove",value:function(e,t){return f(this,void 0,void 0,n.mark((function r(){return n.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:localStorage.removeItem(this.sessionKey(e,t));case 1:case"end":return r.stop()}}),r,this)})))}}]),e}()},246:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r(247)),n(r(156)),n(r(91))},247:function(e,t,r){"use strict";(function(e){var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(t){o(t)}}function s(e){try{c(n.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(r(250)),u=r(82),f=a(r(123)),l=s(r(312)),h=a(r(313)),d=r(552),p=s(r(322)),g=r(91),v=r(323),y=r(156),m=r(157),b=l.default().fetch,w=function(){function t(e){this.abiCache=new Map,void 0===e.rpc||"string"===typeof e.rpc?this.rpc=new u.JsonRpc(e.rpc||v.defaults.rpc,{fetch:b}):this.rpc=e.rpc,this.chainId=e.chainId||v.defaults.chainId,this.serviceAddress=(e.service||v.defaults.service).trim().replace(/\/$/,""),this.transport=e.transport,this.requestOptions={abiProvider:this,textDecoder:e.textDecoder||new TextDecoder,textEncoder:e.textEncoder||new TextEncoder,zlib:h}}return t.prototype.getAbi=function(e){return i(this,void 0,void 0,(function(){var t;return o(this,(function(r){switch(r.label){case 0:return(t=this.abiCache.get(e))?[3,2]:[4,this.rpc.get_abi(e)];case 1:(t=r.sent().abi)&&this.abiCache.set(e,t),r.label=2;case 2:return[2,t]}}))}))},t.prototype.createCallbackUrl=function(){return this.serviceAddress+"/"+d.v4()},t.prototype.createRequest=function(e){return i(this,void 0,void 0,(function(){return o(this,(function(t){switch(t.label){case 0:return[4,c.SigningRequest.create(n(n({},e),{chainId:this.chainId,broadcast:!1,callback:{url:this.createCallbackUrl(),background:!0}}),this.requestOptions)];case 1:return[2,t.sent()]}}))}))},t.prototype.sendRequest=function(e,t){return i(this,void 0,void 0,(function(){var r,n,i,a,s,u,f,l,h,d,v,y,m;return o(this,(function(o){switch(o.label){case 0:r=t||this.transport,o.label=1;case 1:if(o.trys.push([1,4,,5]),!(n=e.data.callback).startsWith(this.serviceAddress))throw new Error("Request must have a link callback");if(2!==e.data.flags)throw new Error("Invalid request flags");return b=n,w=i={},a=new Promise((function(e,t){var r=!0,n=0,i=b.replace(/^http/,"ws"),o=function(r){try{e(JSON.parse(r))}catch(n){n.message="Unable to parse callback JSON: "+n.message,t(n)}};!function e(){var a=new p.default(i);w.cancel=function(){r=!1,a.readyState!==p.default.OPEN&&a.readyState!==p.default.CONNECTING||a.close()},a.onmessage=function(e){if(r=!1,a.readyState===p.default.OPEN&&a.close(),"undefined"!==typeof Blob&&e.data instanceof Blob){var n=new FileReader;n.onload=function(){o(n.result)},n.onerror=function(e){t(e)},n.readAsText(e.data)}else"string"===typeof e.data?o(e.data):o(e.data.toString())},a.onopen=function(){n=0},a.onerror=function(e){},a.onclose=function(t){var i;r&&setTimeout(e,(i=n++,Math.min(Math.pow(10*i,2),1e4)))}}()})),s=new Promise((function(t,n){r.onRequest(e,(function(e){i.cancel&&i.cancel(),n("string"===typeof e?new g.CancelError(e):e)}))})),[4,Promise.race([a,s])];case 2:return u=o.sent(),f={actor:u.sa,permission:u.sp},l=Object.keys(u).filter((function(e){return e.startsWith("sig")&&"sig0"!==e})).map((function(e){return u[e]})),[4,c.ResolvedSigningRequest.fromPayload(u,this.requestOptions)];case 3:return h=o.sent(),d=h.serializedTransaction,v=h.transaction,y={request:h.request,serializedTransaction:d,transaction:v,signatures:l,payload:u,signer:f},r.onSuccess&&r.onSuccess(e,y),[2,y];case 4:throw m=o.sent(),r.onFailure&&r.onFailure(e,m),m;case 5:return[2]}var b,w}))}))},t.prototype.transact=function(e,t){return i(this,void 0,void 0,(function(){var r,n,i,a;return o(this,(function(o){switch(o.label){case 0:return r=t||this.transport,[4,this.createRequest(e)];case 1:return n=o.sent(),[4,this.sendRequest(n,r)];case 2:return i=o.sent(),e.broadcast||!1?[4,this.rpc.push_transaction({signatures:i.signatures,serializedTransaction:i.serializedTransaction})]:[3,4];case 3:a=o.sent(),i.processed=a.processed,o.label=4;case 4:return[2,i]}}))}))},t.prototype.identify=function(t,r){return i(this,void 0,void 0,(function(){var i,a,s,u,l,h,d,p,v;return o(this,(function(o){switch(o.label){case 0:return[4,this.createRequest({identity:{permission:t||null},info:r})];case 1:return i=o.sent(),[4,this.sendRequest(i)];case 2:if(!(a=o.sent()).request.isIdentity())throw new g.IdentityError("Unexpected response");return s=e.concat([e.from(i.getChainId(),"hex"),e.from(a.serializedTransaction),e.alloc(32)]),u=a.signer,l=f.recover(a.signatures[0],s),[4,this.rpc.get_account(u.actor)];case 3:if(!(h=o.sent()))throw new g.IdentityError("Signature from unknown account: "+u.actor);if(!(d=h.permissions.find((function(e){return e.perm_name===u.permission}))))throw new g.IdentityError(u.actor+" signed for unknown permission: "+u.permission);if(p=d.required_auth,!(v=p.keys.find((function(e){return E(e.key)===E(l)}))))throw new g.IdentityError(k(u)+" has no key matching id signature");if(p.threshold>v.weight)throw new g.IdentityError(k(u)+" signature does not reach auth threshold");if(t&&(t.actor!==c.PlaceholderName&&t.actor!==u.actor||t.permission!==c.PlaceholderPermission&&t.permission!==u.permission))throw new g.IdentityError("Unexpected identity proof from "+k(u)+", expected "+k(t)+" ");return[2,n(n({},a),{account:h,signerKey:l})]}}))}))},t.prototype.login=function(e){return i(this,void 0,void 0,(function(){var t,r,i,a,s,c;return o(this,(function(o){switch(o.label){case 0:return[4,f.randomKey()];case 1:return t=o.sent(),r=f.privateToPublic(t),i={session_name:e,request_key:r},[4,this.identify(void 0,{link:m.abiEncode(i,"link_create")})];case 2:return a=o.sent(),s={sameDevice:void 0!==a.request.getRawInfo().return_path},c=a.payload.link_ch&&a.payload.link_key&&a.payload.link_name?new y.LinkChannelSession(this,{auth:a.signer,publicKey:a.signerKey,channel:{url:a.payload.link_ch,key:a.payload.link_key,name:a.payload.link_name},requestKey:t},s):new y.LinkFallbackSession(this,{auth:a.signer,publicKey:a.signerKey},s),[2,n(n({},a),{session:c})]}}))}))},t.prototype.makeSignatureProvider=function(e,t){var r=this;return{getAvailableKeys:function(){return i(r,void 0,void 0,(function(){return o(this,(function(t){return[2,e]}))}))},sign:function(e){return i(r,void 0,void 0,(function(){var r,i;return o(this,(function(o){switch(o.label){case 0:return(r=c.SigningRequest.fromTransaction(e.chainId,e.serializedTransaction,this.requestOptions)).setCallback(this.createCallbackUrl(),!0),r.setBroadcast(!1),[4,this.sendRequest(r,t)];case 1:return i=o.sent().signatures,[2,n(n({},e),{signatures:i})]}}))}))}}},t.prototype.makeAuthorityProvider=function(){var e=this.rpc;return{getRequiredKeys:function(t){return i(this,void 0,void 0,(function(){var r,n,i;return o(this,(function(o){switch(o.label){case 0:return r=t.availableKeys,n=t.transaction,i=I,[4,e.fetch("/v1/chain/get_required_keys",{transaction:n,available_keys:I(r)})];case 1:return[2,i.apply(void 0,[o.sent().required_keys])]}}))}))}}},t}();function k(e){var t=e.actor,r=e.permission;return t===c.PlaceholderName&&(t="<any>"),r!==c.PlaceholderName&&r!==c.PlaceholderPermission||(r="<any>"),t+"@"+r}function E(e){var t=e;return["FIO"].includes(e.substr(0,3))&&(t=t.replace(/^.{3}/g,"EOS")),"EOS"===t.substr(0,3)?u.Numeric.publicKeyToString(u.Numeric.stringToPublicKey(t)):t}function I(e){return e.map(E)}t.Link=w}).call(this,r(1).Buffer)},265:function(e,t,r){"use strict";r(124);var n=r(67),i=r(48),o=r(149),a=(r(49),r(32)),s={initialize:n.initialize,unsafeRandomKey:function(){return n.unsafeRandomKey().then((function(e){return e.toString()}))},randomKey:function(e){return n.randomKey(e).then((function(e){return e.toString()}))},seedPrivate:function(e){return n.fromSeed(e).toString()},privateToPublic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";return n(e).toPublic().toString(t)},isValidPublic:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";return i.isValid(e,t)},isValidPrivate:function(e){return n.isValid(e)},sign:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";if(!0===r)throw new TypeError("API changed, use signHash(..) instead");return!1===r&&console.log("Warning: ecc.sign hashData parameter was removed"),o.sign(e,t,r).toString()},signHash:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return o.signHash(e,t,r).toString()},verify:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"utf8";if(!0===n)throw new TypeError("API changed, use verifyHash(..) instead");return!1===n&&console.log("Warning: ecc.verify hashData parameter was removed"),(e=o.from(e)).verify(t,r,n)},verifyHash:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"hex";return(e=o.from(e)).verifyHash(t,r,n)},recover:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"utf8";if(!0===r)throw new TypeError("API changed, use recoverHash(signature, data) instead");return!1===r&&console.log("Warning: ecc.recover hashData parameter was removed"),(e=o.from(e)).recover(t,r).toString()},recoverHash:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"hex";return(e=o.from(e)).recoverHash(t,r).toString()},sha256:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hex";return a.sha256(e,t)}};e.exports=s},270:function(e,t){},272:function(e,t){},308:function(e,t,r){"use strict";e.exports=function(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return new Promise((function(t,n){setTimeout((function(){try{t(e.apply(void 0,r))}catch(i){n(i)}}))}))}}},309:function(e,t,r){"use strict";(function(t){var n=r(9),i=r(32),o=r(150),a=r(25),s=r(310);function c(e,r,s,c,u){o("Buffer",r),o(a,s),u&&(r=i.sha256(t.concat([r,new t(u)]))),n.equal(r.length,32,"Hash must be 256 bit");var f=s.toBuffer(32),l=new t(32),h=new t(32);h.fill(1),l.fill(0),l=i.HmacSHA256(t.concat([h,new t([0]),f,r]),l),h=i.HmacSHA256(h,l),l=i.HmacSHA256(t.concat([h,new t([1]),f,r]),l),h=i.HmacSHA256(h,l),h=i.HmacSHA256(h,l);for(var d=a.fromBuffer(h);d.signum()<=0||d.compareTo(e.n)>=0||!c(d);)l=i.HmacSHA256(t.concat([h,new t([0])]),l),h=i.HmacSHA256(h,l),h=i.HmacSHA256(h,l),d=a.fromBuffer(h);return d}function u(e,t,r,n){var i=e.n,o=e.G,a=r.r,s=r.s;if(a.signum()<=0||a.compareTo(i)>=0)return!1;if(s.signum()<=0||s.compareTo(i)>=0)return!1;var c=s.modInverse(i),u=t.multiply(c).mod(i),f=a.multiply(c).mod(i),l=o.multiplyTwo(u,n,f);return!e.isInfinity(l)&&l.affineX.mod(i).equals(a)}function f(e,t,r,i){n.strictEqual(3&i,i,"Recovery param is more than two bits");var o=e.n,a=e.G,s=r.r,c=r.s;n(s.signum()>0&&s.compareTo(o)<0,"Invalid r value"),n(c.signum()>0&&c.compareTo(o)<0,"Invalid s value");var u=1&i,f=i>>1?s.add(o):s,l=e.pointFromX(u,f),h=l.multiply(o);n(e.isInfinity(h),"nR is not a valid curve point");var d=t.negate().mod(o),p=s.modInverse(o),g=l.multiplyTwo(c,a,d).multiply(p);return e.validate(g),g}e.exports={calcPubKeyRecoveryParam:function(e,t,r,n){for(var i=0;i<4;i++){if(f(e,t,r,i).equals(n))return i}throw new Error("Unable to find valid recovery factor")},deterministicGenerateK:c,recoverPubKey:f,sign:function(e,t,r,n){var i,o,u=a.fromBuffer(t),f=e.n,l=e.G,h=(c(e,t,r,(function(t){var n=l.multiply(t);return!e.isInfinity(n)&&(0!==(i=n.affineX.mod(f)).signum()&&0!==(o=t.modInverse(f).multiply(u.add(r.multiply(i))).mod(f)).signum())}),n),f.shiftRight(1));return o.compareTo(h)>0&&(o=f.subtract(o)),s(i,o)},verify:function(e,t,r,n){return u(e,a.fromBuffer(t),r,n)},verifyRaw:u}}).call(this,r(1).Buffer)},310:function(e,t,r){"use strict";(function(t){var n=r(9),i=r(150),o=r(25);function a(e,r){function n(){var n=e.toDERInteger(),i=r.toDERInteger(),o=[];return o.push(2,n.length),(o=o.concat(n)).push(2,i.length),(o=o.concat(i)).unshift(48,o.length),new t(o)}return i(o,e),i(o,r),{r:e,s:r,toCompact:function(n,i){i&&(n+=4),n+=27;var o=new t(65);return o.writeUInt8(n,0),e.toBuffer(32).copy(o,1),r.toBuffer(32).copy(o,33),o},toDER:n,toScriptSignature:function(e){var r=new t(1);return r.writeUInt8(e,0),t.concat([n(),r])}}}a.parseCompact=function(e){n.equal(e.length,65,"Invalid signature length");var t=e.readUInt8(0)-27;return n.equal(t,7&t,"Invalid signature parameter"),{compressed:!!(4&t),i:t&=3,signature:a(o.fromBuffer(e.slice(1,33)),o.fromBuffer(e.slice(33)))}},a.fromDER=function(e){n.equal(e.readUInt8(0),48,"Not a DER sequence"),n.equal(e.readUInt8(1),e.length-2,"Invalid sequence length"),n.equal(e.readUInt8(2),2,"Expected a DER integer");var t=e.readUInt8(3);n(t>0,"R length is zero");var r=4+t;n.equal(e.readUInt8(r),2,"Expected a DER integer (2)");var i=e.readUInt8(r+1);n(i>0,"S length is zero");var s=e.slice(4,r),c=e.slice(r+2);r+=2+i,t>1&&0===s.readUInt8(0)&&n(128&s.readUInt8(1),"R value excessively padded"),i>1&&0===c.readUInt8(0)&&n(128&c.readUInt8(1),"S value excessively padded"),n.equal(r,e.length,"Invalid DER encoding");var u=o.fromDERInteger(s),f=o.fromDERInteger(c);return n(u.signum()>=0,"R value is negative"),n(f.signum()>=0,"S value is negative"),a(u,f)},a.parseScriptSignature=function(e){var t=e.readUInt8(e.length-1),r=-129&t;return n(r>0&&r<4,"Invalid hashType"),{signature:a.fromDER(e.slice(0,-1)),hashType:t}},e.exports=a}).call(this,r(1).Buffer)},311:function(e,t,r){"use strict";var n=r(124),i=r(67),o=r(48),a=r(149),s=r(49);e.exports={Aes:n,PrivateKey:i,PublicKey:o,Signature:a,key_utils:s}},32:function(e,t,r){"use strict";var n=r(144),i=r(299);e.exports={sha1:function(e,t){return n("sha1").update(e).digest(t)},sha256:function(e,t){return n("sha256").update(e).digest(t)},sha512:function(e,t){return n("sha512").update(e).digest(t)},HmacSHA256:function(e,t){return i("sha256",t).update(e).digest()},ripemd160:function(e){try{return n("rmd160").update(e).digest()}catch(t){return n("ripemd160").update(e).digest()}}}},322:function(e,t){e.exports=window.WebSocket||window.MozWebSocket},323:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults={chainId:"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906",rpc:"https://eos.greymass.com",service:"https://cb.anchor.link"}},324:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={version:"eosio::abi/1.1",types:[],structs:[{name:"sealed_message",base:"",fields:[{name:"from",type:"public_key"},{name:"nonce",type:"uint64"},{name:"ciphertext",type:"bytes"},{name:"checksum",type:"uint32"}]},{name:"link_create",base:"",fields:[{name:"session_name",type:"name"},{name:"request_key",type:"public_key"}]},{name:"link_info",base:"",fields:[{name:"expiration",type:"time_point_sec"}]}],actions:[],ricardian_clauses:[],error_messages:[],tables:[],abi_extensions:[]}},333:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnchorLogo="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHN2ZyB3aWR0aD0iMTYwIiBoZWlnaHQ9IjE2MCIgdmlld0JveD0iMCAwIDI1NiAyNTYiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMS40NCwgMCwgMCwgMS40NCwgLTguNTAxOTI1LCAtNTcuMDc0NTcpIiBzdHlsZT0iIj4KICAgIDx0aXRsZT5XaGl0ZTwvdGl0bGU+CiAgICA8Y2lyY2xlIGN4PSI5NC43OTMiIGN5PSIxMjguNTI0IiByPSI4MCIgZmlsbD0iI0ZCRkRGRiIvPgogICAgPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0gOTQuNzk5IDc4LjUyNCBDIDk3LjA5OCA3OC41MjQgOTkuMTk1IDc5LjgzNyAxMDAuMTk4IDgxLjkwNiBMIDEyNC4yMDQgMTMxLjQwNiBMIDEyNC43NDYgMTMyLjUyNCBMIDExMS40MDkgMTMyLjUyNCBMIDEwNy41MyAxMjQuNTI0IEwgODIuMDY5IDEyNC41MjQgTCA3OC4xODkgMTMyLjUyNCBMIDY0Ljg1MyAxMzIuNTI0IEwgNjUuMzk1IDEzMS40MDYgTCA4OS40MDEgODEuOTA2IEMgOTAuNDA0IDc5LjgzNyA5Mi41MDEgNzguNTI0IDk0Ljc5OSA3OC41MjQgWiBNIDg2LjkxOSAxMTQuNTI0IEwgMTAyLjY4IDExNC41MjQgTCA5NC43OTkgOTguMjc0IEwgODYuOTE5IDExNC41MjQgWiBNIDExMi43OTMgMTQ5LjUyNCBMIDEyNC43OTggMTQ5LjUyNCBDIDEyNC40MzcgMTY1LjY3NiAxMTEuMDY3IDE3OC41MjQgOTQuNzk5IDE3OC41MjQgQyA3OC41MzIgMTc4LjUyNCA2NS4xNjIgMTY1LjY3NiA2NC44MDEgMTQ5LjUyNCBMIDc2LjgwNiAxNDkuNTI0IEMgNzcuMDg3IDE1Ni44NzggODEuOTc0IDE2My4xNTUgODguNzkzIDE2NS41MiBMIDg4Ljc5MyAxNDEuNTI0IEMgODguNzkzIDEzOC4yMSA5MS40OCAxMzUuNTI0IDk0Ljc5MyAxMzUuNTI0IEMgOTguMTA3IDEzNS41MjQgMTAwLjc5MyAxMzguMjEgMTAwLjc5MyAxNDEuNTI0IEwgMTAwLjc5MyAxNjUuNTI0IEMgMTA3LjYyIDE2My4xNjIgMTEyLjUxMSAxNTYuODgzIDExMi43OTMgMTQ5LjUyNCBaIiBmaWxsPSIjMzY1MEEyIi8+CiAgPC9nPgo8L3N2Zz4="},431:function(e,t){},452:function(e,t){},453:function(e,t){},48:function(e,t,r){"use strict";(function(t){var n=r(65),i=n(r(88)),o=n(r(66)),a=r(9),s=r(89),c=r(25),u=s.getCurveByName("secp256k1"),f=r(32),l=r(49),h=u.G,d=u.n;function p(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";if("string"===typeof e){var n=p.fromString(e,r);return a(null!=n,"Invalid public key"),n}if(t.isBuffer(e))return p.fromBuffer(e);if("object"===(0,o.default)(e)&&e.Q)return p(e.Q);function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.compressed;return e.getEncoded(t)}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"EOS";return e+l.checkEncode(i())}function v(){var t=e.getEncoded(!1),r=s.Point.decodeFrom(u,t);return p.fromPoint(r)}function y(r){console.error("Deprecated warning: PublicKey.child"),a(t.isBuffer(r),"Buffer required: offset"),a.equal(r.length,32,"offset length"),r=t.concat([i(),r]),r=f.sha256(r);var n=c.fromBuffer(r);if(n.compareTo(d)>=0)throw new Error("Child offset went out of bounds, try again");var o=h.multiply(n),s=e.add(o);if(u.isInfinity(s))throw new Error("Child offset derived to an invalid key, try again");return p.fromPoint(s)}function m(){return i().toString("hex")}return a.equal((0,o.default)(e),"object","Invalid public key"),a.equal((0,o.default)(e.compressed),"boolean","Invalid public key"),{Q:e,toString:g,toUncompressed:v,toBuffer:i,child:y,toHex:m}}e.exports=p,p.isValid=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";try{return p(e,t),!0}catch(r){return!1}},p.fromBinary=function(e){return p.fromBuffer(new t(e,"binary"))},p.fromBuffer=function(e){return p(s.Point.decodeFrom(u,e))},p.fromPoint=function(e){return p(e)},p.fromString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";try{return p.fromStringOrThrow(e,t)}catch(r){return null}},p.fromStringOrThrow=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EOS";a.equal((0,o.default)(e),"string","public_key");var r=e.match(/^PUB_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);if(null===r){var n=new RegExp("^"+t);return n.test(e)&&(e=e.substring(t.length)),p.fromBuffer(l.checkDecode(e))}a(3===r.length,"Expecting public key like: PUB_K1_base58pubkey..");var s=(0,i.default)(r,3),c=s[1],u=s[2];return a.equal(c,"K1","K1 private key expected"),p.fromBuffer(l.checkDecode(u,c))},p.fromHex=function(e){return p.fromBuffer(new t(e,"hex"))},p.fromStringHex=function(e){return p.fromString(new t(e,"hex"))}}).call(this,r(1).Buffer)},49:function(e,t,r){"use strict";(function(t){var n=r(65)(r(66)),i=r(302),o=r(9),a=r(125),s=r(32);e.exports={random32ByteBuffer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.cpuEntropyBits,i=void 0===r?0:r,c=e.safe,h=void 0===c||c;o.equal((0,n.default)(i),"number","cpuEntropyBits"),o.equal((0,n.default)(h),"boolean","boolean"),h&&o(u>=128,"Call initialize() to add entropy");var d=[];return d.push(a(32)),d.push(t.from(l(i))),d.push(f),d.push(p()),s.sha256(t.concat(d))},addEntropy:function(){o.equal(f.length,101,"externalEntropyArray");for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];u+=t.length;for(var n=0,i=t;n<i.length;n++){var a=i[n],s=c++%101,l=f[s]+=a;l>9007199254740991&&(f[s]=0)}},cpuEntropy:l,entropyCount:function(){return u},checkDecode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(null!=e,"private key expected");var n,a=new t(i.decode(e)),c=a.slice(-4),u=a.slice(0,-4);if("sha256x2"===r)n=s.sha256(s.sha256(u)).slice(0,4);else{var f=[u];r&&f.push(t.from(r)),n=s.ripemd160(t.concat(f)).slice(0,4)}if(c.toString("hex")!==n.toString("hex"))throw new Error("Invalid checksum, "+"".concat(c.toString("hex")," != ").concat(n.toString("hex")));return u},checkEncode:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(o(t.isBuffer(e),"expecting keyBuffer<Buffer>"),"sha256x2"===r){var n=s.sha256(s.sha256(e)).slice(0,4);return i.encode(t.concat([e,n]))}var a=[e];r&&a.push(t.from(r));var c=s.ripemd160(t.concat(a)).slice(0,4);return i.encode(t.concat([e,c]))}};var c=0,u=0,f=a(101);function l(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128,t=[],r=null,n=0;t.length<e;){var i=h();if(null!=r){var o=i-r;if(Math.abs(o)<1){n++;continue}var a=Math.floor(d(Math.abs(o))+1);if(a<4){a<2&&n++;continue}t.push(o)}r=i}if(n>10){var s=Number(n/e*100).toFixed(2);console.warn("WARN: ".concat(s,"% low CPU entropy re-sampled"))}return t}function h(){for(var e=Date.now(),t=0,r=0;Date.now()<e+7+1;)r=Math.sin(Math.sqrt(Math.log(++t+r)));return t}var d=function(e){return Math.log(e)/Math.LN2};function p(){var e=Array(a(101)).join();try{e+=(new Date).toString()+" "+window.screen.height+" "+window.screen.width+" "+window.screen.colorDepth+"  "+window.screen.availHeight+" "+window.screen.availWidth+" "+window.screen.pixelDepth+navigator.language+" "+window.location+" "+window.history.length;for(var r,n=0;n<navigator.mimeTypes.length;n++)e+=(r=navigator.mimeTypes[n]).description+" "+r.type+" "+r.suffixes+" "}catch(c){e+=s.sha256((new Date).toString())}for(var i=e+=new t(e).toString("binary")+" "+(new Date).toString(),o=Date.now();Date.now()-o<25;)i=s.sha256(i);return i}}).call(this,r(1).Buffer)},553:function(e,t,r){"use strict";r.r(t);var n=r(2),i=r.n(n),o=r(218),a=r.n(o),s=r(225),c=r(226),u=r(8),f=r.n(u),l=r(76),h=r(57),d=r(58),p=r(115),g=r(111),v=r(116),y=r(219),m=r(221),b=r(222),w=r(112),k=[{chainId:"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72",name:"Block.one Testnet",rpcEndpoints:[{protocol:"https",host:"api.testnet.eos.io",port:443}]},{chainId:"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e",name:"FIO (Testnet)",rpcEndpoints:[{protocol:"https",host:"fiotestnet.greymass.com",port:443}]},{chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473",name:"Jungle 2 (Testnet)",rpcEndpoints:[{protocol:"https",host:"jungle.greymass.com",port:443}]},{chainId:"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840",name:"Jungle 3 (Testnet)",rpcEndpoints:[{protocol:"https",host:"jungle3.greymass.com",port:443}]},{chainId:"f11d5128e07177823924a07df63bf59fbd07e52c44bc77d16acc1c6e9d22d37b",name:"Lynx (Testnet)",rpcEndpoints:[{protocol:"https",host:"lynxtestnet.greymass.com",port:443}]},{chainId:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",name:"Telos (Testnet)",rpcEndpoints:[{protocol:"https",host:"testnet.eos.miami",port:443}]},{chainId:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",name:"WAX (Testnet)",rpcEndpoints:[{protocol:"https",host:"waxtestnet.greymass.com",port:443}]}],E=function(e,t,r){var n="eosio.token",i="transfer",o={from:e,to:"teamgreymass",quantity:I(r),memo:"ual-anchor-demo"};switch(r){case"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72":o={from:e,to:"csxdbqrkklmm",quantity:I(r),memo:"ual-anchor-demo"};break;case"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e":n="fio.token",i="trnsfiopubky",o={payee_public_key:"FIO6smr7ThQMWYBHzEvkzTZdxNNmUwxqh2VXdXZdDdzYHgakgqCeb",amount:I(r),max_fee:2e9,actor:e,tpid:null}}return{actions:[{account:n,name:i,authorization:[{actor:e,permission:t}],data:o}]}},I=function(e){var t="EOS",r="0.0001";switch(e){case"0db13ab9b321c37c0ba8481cb4681c2788b622c3abfd1f12f0e5353d44ba6e72":t="TNT";break;case"f11d5128e07177823924a07df63bf59fbd07e52c44bc77d16acc1c6e9d22d37b":t="LNX",r="0.00000001";break;case"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f":t="TLOS";break;case"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12":t="WAX",r="0.00000001";break;case"b20901380af44ef59c5918439a1f9a41d83669020319a80574b804a5f95cbd7e":return parseInt(1e-8,10)}return"".concat(r," ").concat(t)},x=function(e){function t(e){var r;return Object(h.a)(this,t),(r=Object(p.a)(this,Object(g.a)(t).call(this,e))).purchase=Object(l.a)(f.a.mark((function e(){var t,n,i,o,a,s,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.props.ual.activeUser,e.prev=1,n=t.accountName,i=t.chain,o=t.requestPermission,a=i.chainId,s=E(n,o,a),e.next=7,t.signTransaction(s,{expireSeconds:120,blocksBehind:3});case 7:c=e.sent,r.setState({message:"Transfer Successful!"},(function(){setTimeout(r.resetMessage,5e3)})),console.info("SUCCESS:",c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("ERROR:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),r.resetMessage=function(){return r.setState({message:""})},r.renderLoggedInView=function(){return i.a.createElement(i.a.Fragment,null,!!r.state.message&&i.a.createElement("div",{style:A.announcementBar},i.a.createElement("p",{style:A.baseText},r.state.message)),i.a.createElement("button",{type:"button",onClick:r.purchase,style:Object(c.a)({},A.button,{},A.blueBG)},i.a.createElement("p",{style:A.baseText},"Transfer 0.0001")),i.a.createElement("table",null,i.a.createElement("tbody",null,i.a.createElement("tr",null,i.a.createElement("td",{style:A.td},"Blockchain"),i.a.createElement("td",{style:A.td},r.props.ual.chains[0].name)),i.a.createElement("tr",null,i.a.createElement("td",{style:A.td},"Account"),i.a.createElement("td",{style:A.td},r.props.ual.activeUser.accountName)),i.a.createElement("tr",null,i.a.createElement("td",{style:A.td},"Permission"),i.a.createElement("td",{style:A.td},r.props.ual.activeUser.requestPermission)))),i.a.createElement("button",{type:"button",onClick:r.props.ual.logout,style:A.logout},i.a.createElement("p",null,"Logout")))},r.renderLoginButton=function(){return i.a.createElement("button",{type:"button",onClick:r.props.ual.showModal,style:A.button},i.a.createElement("p",{style:{buttonText:A.buttonText,baseText:A.baseText}},"Login using ",r.props.ual.chains[0].name))},r.state={chainId:e.chainId,message:""},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return this.props.ual.activeUser?this.renderLoggedInView():this.renderLoginButton()}}]),t}(n.Component),S=function(e){function t(e){var r;Object(h.a)(this,t),(r=Object(p.a)(this,Object(g.a)(t).call(this,e))).setChain=function(e){return r.setState({chainId:e.target.value})};var n=window.location.search,i=new URLSearchParams(n).get("chain");return r.state={chainId:i||k[0].chainId},r}return Object(v.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.chainId,t=this.props.available.filter((function(t){return t.chainId===e})),r=Object(s.a)(t,1)[0];if(!r)return i.a.createElement("div",null,"Invalid Chain ID");var n=new y.Anchor([r],{appName:"ual-anchor-demo"}),o=new m.Ledger([r]),a=new b.Scatter([r],{appName:"ual-anchor-demo"});return i.a.createElement("div",{style:A.container},i.a.createElement("p",null,i.a.createElement("select",{defaultValue:e,onChange:this.setChain,style:A.select},k.map((function(e){return i.a.createElement("option",{key:e.chainId,value:e.chainId},e.name)})))),i.a.createElement(w.UALProvider,{appName:"Anchor + Authenticator Test App",authenticators:[n,o,a],chains:[r],key:r.chainId},i.a.createElement(T,null)))}}]),t}(n.Component),A={container:{display:"flex",backgroundColor:"#fff",alignItems:"center",justifyContent:"top",height:"100vh",marginTop:"10vh",flexDirection:"column"},button:{padding:"10px 60px",backgroundColor:"#EA2E2E",textAlign:"center",borderRadius:5,color:"#FFFFFF",fontSize:18,fontWeight:"bold",marginBottom:"2em"},select:{textAlign:"center",borderRadius:5,fontSize:24,fontWeight:"bold",width:"200px"},logout:{marginTop:20},baseText:{color:"#fff",fontSize:18},blueBG:{backgroundColor:"#447DD8"},announcementBar:{width:"100%",padding:"10px 50px 10px 20px",textAlign:"center",backgroundColor:"#3de13d",top:0,position:"absolute",alignItems:"center"}},T=Object(w.withUAL)(x),B=function(){return i.a.createElement(S,{available:k})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(i.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,r){"use strict";(function(t){var n=r(65),i=n(r(304)),o=n(r(88)),a=n(r(66)),s=r(89),c=s.Point,u=s.getCurveByName("secp256k1"),f=r(25),l=r(9),h=r(32),d=r(48),p=r(49),g=r(144),v=r(308);u.G,u.n;function y(e){if("string"===typeof e)return y.fromString(e);if(t.isBuffer(e))return y.fromBuffer(e);if("object"===(0,a.default)(e)&&f.isBigInteger(e.d))return y(e.d);if(!f.isBigInteger(e))throw new TypeError("Invalid private key");function r(){var e=i();return e=t.concat([new t([128]),e]),p.checkEncode(e,"sha256x2")}var n;function i(){return e.toBuffer(32)}return{d:e,toWif:r,toString:function(){return r()},toPublic:function(){if(n)return n;var t=u.G.multiply(e);return n=d.fromPoint(t)},toBuffer:i,getSharedSecret:function(e){var t=(e=d(e)).toUncompressed().toBuffer(),r=c.fromAffine(u,f.fromBuffer(t.slice(1,33)),f.fromBuffer(t.slice(33,65))),n=i(),o=r.multiply(f.fromBuffer(n)).affineX.toBuffer({size:32});return h.sha512(o)},getChildKey:function(e){return y(g("sha256").update(i()).update(e).digest())}}}function m(e){l.equal((0,a.default)(e),"string","privateStr");var t=e.match(/^PVT_([A-Za-z0-9]+)_([A-Za-z0-9]+)$/);if(null===t){var r=p.checkDecode(e,"sha256x2"),n=r.readUInt8(0);l.equal(128,n,"Expected version ".concat(128,", instead got ",n));return{privateKey:y.fromBuffer(r.slice(1)),format:"WIF",keyType:"K1"}}l(3===t.length,"Expecting private key like: PVT_K1_base58privateKey..");var i=(0,o.default)(t,3),s=i[1],c=i[2];return l.equal(s,"K1","K1 private key expected"),{privateKey:y.fromBuffer(p.checkDecode(c,s)),format:"PVT",keyType:s}}e.exports=y,y.fromHex=function(e){return y.fromBuffer(new t(e,"hex"))},y.fromBuffer=function(e){if(!t.isBuffer(e))throw new Error("Expecting parameter to be a Buffer type");if(33===e.length&&1===e[32]&&(e=e.slice(0,-1)),32!==e.length)throw new Error("Expecting 32 bytes, instead got ".concat(e.length));return y(f.fromBuffer(e))},y.fromSeed=function(e){if("string"!==typeof e)throw new Error("seed must be of type string");return y.fromBuffer(h.sha256(e))},y.isWif=function(e){try{return l("WIF"===m(e).format),!0}catch(t){return!1}},y.isValid=function(e){try{return y(e),!0}catch(t){return!1}},y.fromWif=function(e){return console.log("PrivateKey.fromWif is deprecated, please use PrivateKey.fromString"),y.fromString(e)},y.fromString=function(e){return m(e).privateKey},y.randomKey=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return y.initialize().then((function(){return y.fromBuffer(p.random32ByteBuffer({cpuEntropyBits:e}))}))},y.unsafeRandomKey=function(){return Promise.resolve(y.fromBuffer(p.random32ByteBuffer({safe:!1})))};var b=!1;y.initialize=v((function(){b||(!function(){var e=y(h.sha256("")),t="key comparison test failed on a known private key";l.equal(e.toWif(),"5KYZdUEo39z3FPrtuX2QbbwGnNP5zTd7yyr2SC1j299sBCnWjss",t),l.equal(e.toString(),"5KYZdUEo39z3FPrtuX2QbbwGnNP5zTd7yyr2SC1j299sBCnWjss",t);var r=e.toPublic();l.equal(r.toString(),"EOS859gxfnXyUriMgUeThh1fWv3oqcpLFyHa3TfFYC4PK2HqhToVM","pubkey string comparison test failed on a known public key"),w((function(){return y.fromString(e.toWif())}),"converting known wif from string"),w((function(){return y.fromString(e.toString())}),"converting known pvt from string"),w((function(){return d.fromString(r.toString())}),"converting known public key from string"),!0}(),p.addEntropy.apply(p,(0,i.default)(p.cpuEntropy())),l(p.entropyCount()>=128,"insufficient entropy"),b=!0)}));var w=function(e,t){try{e()}catch(r){throw r.message="".concat(t," ==> ").concat(r.message),r}}}).call(this,r(1).Buffer)},91:function(e,t,r){"use strict";var n=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(t,r)};return function(t,r){function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=e.call(this,"User canceled request "+(t?"("+t+")":""))||this;return r.code="E_CANCEL",r}return n(t,e),t}(Error);t.CancelError=i;var o=function(e){function t(t){var r=e.call(this,"Unable to verify identity "+(t?"("+t+")":""))||this;return r.code="E_IDENTITY",r}return n(t,e),t}(Error);t.IdentityError=o;var a=function(e){function t(t,r){var n=e.call(this,t)||this;return n.code=r,n}return n(t,e),t}(Error);t.SessionError=a}},[[228,1,2]]]);
//# sourceMappingURL=main.dd3ac59a.chunk.js.map