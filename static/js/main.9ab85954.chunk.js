(window["webpackJsonpual-anchor-demo"]=window["webpackJsonpual-anchor-demo"]||[]).push([[0],{201:function(e,t,a){e.exports=a(493)},236:function(e,t){},238:function(e,t){},376:function(e,t){},399:function(e,t){},400:function(e,t){},493:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),c=a(51),s=a.n(c),r=a(198),i=a(199),l=a(5),d=a.n(l),u=a(192),h=a(193),m=a(194),p=a(195),b=a(100);const f=[{chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473",name:"Jungle 2 (Testnet)",rpcEndpoints:[{protocol:"https",host:"jungle.greymass.com",port:443}]},{chainId:"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840",name:"Jungle 3 (Testnet)",rpcEndpoints:[{protocol:"https",host:"jungle3.greymass.com",port:443}]},{chainId:"f11d5128e07177823924a07df63bf59fbd07e52c44bc77d16acc1c6e9d22d37b",name:"Lynx (Testnet)",rpcEndpoints:[{protocol:"https",host:"lynxtestnet.greymass.com",port:443}]},{chainId:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",name:"Telos (Testnet)",rpcEndpoints:[{protocol:"https",host:"testnet.eos.miami",port:443}]},{chainId:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",name:"WAX (Testnet)",rpcEndpoints:[{protocol:"https",host:"waxtestnet.greymass.com",port:443}]}],g=(e,t,a)=>({actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:e,permission:t}],data:{from:e,to:"teamgreymass",quantity:E(a),memo:"ual-anchor-demo"}}]}),E=e=>{let t="EOS",a="0.0001";switch(e){case"f11d5128e07177823924a07df63bf59fbd07e52c44bc77d16acc1c6e9d22d37b":t="LNX",a="0.00000001";break;case"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f":t="TLOS";break;case"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12":t="WAX",a="0.00000001"}return"".concat(a," ").concat(t)};class y extends n.Component{constructor(e){var t;super(e),t=this,this.purchase=Object(u.a)(d.a.mark((function e(){var a,n,o,c,s,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.ual.activeUser,e.prev=1,n=a.accountName,o=a.chain,c=a.requestPermission,s=o.chainId,r=g(n,c,s),e.next=7,a.signTransaction(r,{expireSeconds:120,blocksBehind:3});case 7:i=e.sent,t.setState({message:"Transfer Successful!"},()=>{setTimeout(t.resetMessage,5e3)}),console.info("SUCCESS:",i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error("ERROR:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),this.resetMessage=()=>this.setState({message:""}),this.renderLoggedInView=()=>o.a.createElement(o.a.Fragment,null,!!this.state.message&&o.a.createElement("div",{style:w.announcementBar},o.a.createElement("p",{style:w.baseText},this.state.message)),o.a.createElement("button",{type:"button",onClick:this.purchase,style:Object(i.a)({},w.button,{},w.blueBG)},o.a.createElement("p",{style:w.baseText},"Transfer 0.0001")),o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{style:w.td},"Blockchain"),o.a.createElement("td",{style:w.td},this.props.ual.chains[0].name)),o.a.createElement("tr",null,o.a.createElement("td",{style:w.td},"Account"),o.a.createElement("td",{style:w.td},this.props.ual.activeUser.accountName)),o.a.createElement("tr",null,o.a.createElement("td",{style:w.td},"Permission"),o.a.createElement("td",{style:w.td},this.props.ual.activeUser.requestPermission)))),o.a.createElement("button",{type:"button",onClick:this.props.ual.logout,style:w.logout},o.a.createElement("p",null,"Logout"))),this.renderLoginButton=()=>o.a.createElement("button",{type:"button",onClick:this.props.ual.showModal,style:w.button},o.a.createElement("p",{style:{buttonText:w.buttonText,baseText:w.baseText}},"Login using ",this.props.ual.chains[0].name)),this.state={chainId:e.chainId,message:""}}render(){return this.props.ual.activeUser?this.renderLoggedInView():this.renderLoginButton()}}class x extends n.Component{constructor(e){super(e),this.setChain=e=>this.setState({chainId:e.target.value});const t=window.location.search,a=new URLSearchParams(t).get("chain");this.state={chainId:a||f[0].chainId}}render(){const e=this.state.chainId,t=this.props.available.filter(t=>t.chainId===e),a=Object(r.a)(t,1)[0];if(!a)return o.a.createElement("div",null,"Invalid Chain ID");const n=new h.Anchor([a],{appName:"ual-anchor-demo"}),c=new m.Ledger([a]),s=new p.Scatter([a],{appName:"ual-anchor-demo"});return o.a.createElement("div",{style:w.container},o.a.createElement("p",null,o.a.createElement("select",{defaultValue:e,onChange:this.setChain,style:w.select},f.map(e=>o.a.createElement("option",{key:e.chainId,value:e.chainId},e.name)))),o.a.createElement(b.UALProvider,{appName:"Anchor + Authenticator Test App",authenticators:[n,c,s],chains:[a],key:a.chainId},o.a.createElement(v,null)))}}const w={container:{display:"flex",backgroundColor:"#fff",alignItems:"center",justifyContent:"top",height:"100vh",marginTop:"10vh",flexDirection:"column"},button:{padding:"10px 60px",backgroundColor:"#EA2E2E",textAlign:"center",borderRadius:5,color:"#FFFFFF",fontSize:18,fontWeight:"bold",marginBottom:"2em"},select:{textAlign:"center",borderRadius:5,fontSize:24,fontWeight:"bold",width:"200px"},logout:{marginTop:20},baseText:{color:"#fff",fontSize:18},blueBG:{backgroundColor:"#447DD8"},announcementBar:{width:"100%",padding:"10px 50px 10px 20px",textAlign:"center",backgroundColor:"#3de13d",top:0,position:"absolute",alignItems:"center"}},v=Object(b.withUAL)(y);var I=()=>o.a.createElement(x,{available:f});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(e=>{e.unregister()})}},[[201,1,2]]]);
//# sourceMappingURL=main.9ab85954.chunk.js.map