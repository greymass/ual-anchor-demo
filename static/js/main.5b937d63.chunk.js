(window["webpackJsonpual-anchor-demo"]=window["webpackJsonpual-anchor-demo"]||[]).push([[0],{131:function(e,t,n){e.exports=n(326)},178:function(e,t){},180:function(e,t){},326:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),o=n(123),r=n.n(o),s=n(128),i=n(129),l=n(13),u=n.n(l),d=n(124),p=n(60),m=n(61),f=n(66),b=n(62),h=n(67),g=n(125),E=n(63),y=[{chainId:"e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473",name:"Jungle 2 (Testnet)",rpcEndpoints:[{protocol:"https",host:"jungle.greymass.com",port:443}]},{chainId:"2a02a0053e5a8cf73a56ba0fda11e4d92e0238a4a2aa74fccf46d5a910746840",name:"Jungle 3 (Testnet)",rpcEndpoints:[{protocol:"https",host:"jungle3.greymass.com",port:443}]},{chainId:"f11d5128e07177823924a07df63bf59fbd07e52c44bc77d16acc1c6e9d22d37b",name:"Lynx (Testnet)",rpcEndpoints:[{protocol:"https",host:"lynxtestnet.greymass.com",port:443}]},{chainId:"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f",name:"Telos (Testnet)",rpcEndpoints:[{protocol:"https",host:"testnet.eos.miami",port:443}]},{chainId:"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12",name:"WAX (Testnet)",rpcEndpoints:[{protocol:"https",host:"waxtestnet.greymass.com",port:443}]}],v=function(e,t){return{actions:[{account:"eosio.token",name:"transfer",authorization:[{actor:e,permission:"active"}],data:{from:e,to:"teamgreymass",quantity:x(t),memo:"ual-anchor-demo"}}]}},x=function(e){var t="EOS",n="0.0001";switch(e){case"f11d5128e07177823924a07df63bf59fbd07e52c44bc77d16acc1c6e9d22d37b":t="LNX",n="0.00000001";break;case"1eaa0824707c8c16bd25145493bf062aecddfeb56c736f6ba6397f3195f33c9f":t="TLOS";break;case"f16b1833c747c43682f4386fca9cbb327929334a762755ebec17f6f23c9b8a12":t="WAX",n="0.00000001"}return"".concat(n," ").concat(t)},w=function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).purchase=Object(d.a)(u.a.mark((function e(){var t,a,c,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.ual.activeUser,e.prev=1,e.next=4,t.getAccountName();case 4:return a=e.sent,e.t0=v,e.t1=a,e.next=9,t.getChainId();case 9:return e.t2=e.sent,c=(0,e.t0)(e.t1,e.t2),e.next=13,t.signTransaction(c,{expireSeconds:120,blocksBehind:3});case 13:o=e.sent,n.setState({message:"Transfer Successful!"},(function(){setTimeout(n.resetMessage,5e3)})),console.info("SUCCESS:",o),e.next=21;break;case 18:e.prev=18,e.t3=e.catch(1),console.error("ERROR:",e.t3);case 21:case"end":return e.stop()}}),e,null,[[1,18]])}))),n.resetMessage=function(){return n.setState({message:""})},n.renderLoggedInView=function(){return c.a.createElement(c.a.Fragment,null,!!n.state.message&&c.a.createElement("div",{style:k.announcementBar},c.a.createElement("p",{style:k.baseText},n.state.message)),c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",{style:k.td},"Blockchain"),c.a.createElement("td",{style:k.td},n.props.ual.chains[0].name)),c.a.createElement("tr",null,c.a.createElement("td",{style:k.td},"Account"),c.a.createElement("td",{style:k.td},n.props.ual.activeUser.accountName)),c.a.createElement("tr",null,c.a.createElement("td",{style:k.td},"Permission"),c.a.createElement("td",{style:k.td},n.props.ual.activeUser.requestPermission)))),c.a.createElement("p",null,"Actions:"),c.a.createElement("button",{type:"button",onClick:n.purchase,style:Object(i.a)({},k.button,{},k.blueBG)},c.a.createElement("p",{style:k.baseText},"Transfer 0.0001")),c.a.createElement("button",{type:"button",onClick:n.props.ual.logout,style:k.logout},c.a.createElement("p",null,"Logout")))},n.renderLoginButton=function(){return c.a.createElement("button",{type:"button",onClick:n.props.ual.showModal,style:k.button},c.a.createElement("p",{style:{buttonText:k.buttonText,baseText:k.baseText}},"Login using ",n.props.ual.chains[0].name))},n.state={chainId:e.chainId,message:""},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.props.ual.activeUser?this.renderLoggedInView():this.renderLoginButton()}}]),t}(a.Component),I=function(e){function t(e){var n;Object(p.a)(this,t),(n=Object(f.a)(this,Object(b.a)(t).call(this,e))).setChain=function(e){return n.setState({chainId:e.target.value})};var a=window.location.search,c=new URLSearchParams(a).get("chain");return n.state={chainId:c||y[0].chainId},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.state.chainId,t=this.props.available.filter((function(t){return t.chainId===e})),n=Object(s.a)(t,1)[0];if(!n)return c.a.createElement("div",null,"Invalid Chain ID");var a=new g.Anchor([n],{appName:"ual-anchor-demo"});return c.a.createElement("div",{style:k.container},c.a.createElement("p",null,c.a.createElement("select",{defaultValue:e,onChange:this.setChain,style:k.select},y.map((function(e){return c.a.createElement("option",{key:e.chainId,value:e.chainId},e.name)})))),c.a.createElement(E.UALProvider,{appName:"Anchor + Authenticator Test App",authenticators:[a],chains:[n],key:n.chainId},c.a.createElement(T,null)))}}]),t}(a.Component),k={container:{display:"flex",backgroundColor:"#fff",alignItems:"center",justifyContent:"center",height:"100vh",flexDirection:"column"},button:{padding:"10px 60px",backgroundColor:"#EA2E2E",textAlign:"center",borderRadius:5,color:"#FFFFFF",fontSize:18,fontWeight:"bold"},select:{textAlign:"center",borderRadius:5,fontSize:24,fontWeight:"bold",width:"200px"},logout:{marginTop:20},baseText:{color:"#fff",fontSize:18},blueBG:{backgroundColor:"#447DD8"},announcementBar:{width:"100%",padding:"10px 50px 10px 20px",textAlign:"center",backgroundColor:"#3de13d",top:0,position:"absolute",alignItems:"center"}},T=Object(E.withUAL)(w),j=function(){return c.a.createElement(I,{available:y})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[131,1,2]]]);
//# sourceMappingURL=main.5b937d63.chunk.js.map